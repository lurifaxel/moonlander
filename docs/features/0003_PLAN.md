# Feature 0003 - Add sound effects to the Moon Lander

## Overview
Implement sound cues in `moonlander.html` so the Moon Lander game has:
- a continuous thruster sound while the player holds the main engine.
- an explosion effect on crashes.
- a sad tone when the lander dies.
- a happy celebratory sound on successful landings.

## Target files
- `moonlander.html`: extend the existing self-contained script with audio setup, playback helpers, and trigger points tied to game state transitions and input.

## Technical plan
1. **Audio bootstrap**
   - Inside the existing IIFE, create a lazily-initialised `AudioContext` that starts on the first user key interaction (keydown) to satisfy browser autoplay policies.
   - Define an `audio` helper object storing the context, gain nodes for master volume, and cached oscillators/buffers for each effect.
2. **Thruster loop**
   - Build a continuous sound using a `OscillatorNode` (saw or square wave) routed through a `GainNode` with subtle `BiquadFilterNode` to soften harshness.
   - Keep the oscillator running but gated via gain: start/resume on the first thruster activation, smoothly ramp gain up/down (`setTargetAtTime`) based on whether ArrowUp is pressed and fuel > 0.
   - Tie activation/deactivation to the existing thrusting logic in `update()`, ensuring the sound stops when fuel is empty or the game ends.
3. **Explosion effect**
   - Create a function `playExplosion()` that synthesises noise by filling an `AudioBuffer` with random values and playing it through a short decay envelope; trigger within `spawnExplosion()` when a crash occurs.
4. **Sad death tone**
   - Define `playDeathTone()` that schedules a downward sweeping oscillator (e.g., start at ~300 Hz down to 80 Hz over 0.6s) once per crash, chained after the explosion for emotional emphasis.
   - Invoke this from the crash branch of `spawnExplosion()` after `exploded` is set.
5. **Celebration sound**
   - Implement `playWinChime()` that stacks a few quick oscillators/arpeggio notes (e.g., 3 pitches triggered sequentially) routed through the master gain.
   - Call this in the successful landing branch where `landed` becomes true (same place that triggers confetti and pad flash).
6. **State guard rails**
   - Track booleans to avoid replaying one-shot sounds multiple times during a single outcome (e.g., ensure explosion/death play once even if `spawnExplosion` is re-entered).
   - Ensure `resetGame()` stops the thruster loop and clears any playing envelopes for new runs.
7. **Volume/tuning controls**
   - Expose top-level constants for mix levels (thruster, explosion, sad, happy) to allow quick adjustments and integrate with existing debug toggles if needed (optional simple comment noting where to tweak).

## Validation
- Manually verify in browser that each game event triggers the appropriate sound and that sounds stop on reset or when the lander runs out of fuel.
