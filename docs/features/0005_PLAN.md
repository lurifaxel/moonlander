# Feature 0005 - Explosion Chain Reactions + Lander Shock Damage

## Context
Extend `moonlander.html` so that "bombs explode one another when close enough" and "the ship explodes when too close to another explosion." Chain reactions must include both bomb-triggered blasts and the lander's crash explosion while preserving existing crater, debris, and audio effects.

## Target files
- `moonlander.html`: add explosion proximity checks, shared helpers, and state updates inside `explodeBomb`, `spawnExplosion`, and the bomb update loop so chained detonations and lander damage occur immediately when blasts overlap.

## Technical plan
1. **Explosion proximity utilities**
   - Introduce shared constants near existing bomb/crash tuning (e.g., `BOMB_CHAIN_RADIUS`, `EXPLOSION_KILL_RADIUS`) that define how far a blast can trigger neighboring bombs or destroy the lander.
   - Create a helper `applyExplosionEffects(x, y, source)` close to `explodeBomb` that will: (a) iterate over remaining bombs to detonate any within the chain radius, and (b) call a new `checkLanderExplosion(x, y)` to blow up the ship if the lander's center is inside the kill radius and the game isn't already over.
2. **Bomb explosion chaining**
   - Update `explodeBomb(bomb)` to call `applyExplosionEffects` immediately after generating debris/smoke so that nearby bombs are flagged and detonated the same frame; ensure the current bomb is marked `detonated` before triggering others to avoid loops.
   - When chain-triggering other bombs, skip those still within their arming delay by checking `bomb.armingMs > 0` to prevent instant self-detonation at drop time, and ensure `explodeBomb` is safe to call multiple times per frame (e.g., guard with the existing `detonated` flag).
3. **Lander damage from blasts**
   - Implement `checkLanderExplosion(x, y)` that compares the lander's position (or closest contact point) against the kill radius; if within range and `!gameOver`, call `spawnExplosion(lander.x, lander.y, lander.vx, lander.vy)` to destroy the ship, letting the existing crash flow handle debris, audio, and terrain deformation.
   - Avoid re-entrant recursion by setting a guard (e.g., early return when `exploded` is already true) so the lander explosion only triggers once even if multiple overlapping blasts occur.
4. **Crash-origin chains**
   - Inside `spawnExplosion(...)`, after deforming terrain and generating wreckage heat/smoke, invoke `applyExplosionEffects(x, y, 'lander')` so that the lander's own crash can trigger nearby bombs and potentially kill the ship again only if it somehow survived.
5. **Debug + testing**
   - Optionally extend the debug overlay line to show the new radii constants for tuning (only if it aids validation); otherwise rely on playtesting.
   - Verify in-browser: drop multiple bombs close together to confirm chain explosions; hover near a bomb blast to ensure the lander explodes when within the kill radius; confirm crashes still work and that distant bombs remain unaffected.

## Validation
- Manual playtest covering bomb chain reactions, lander proximity kills, and ensuring no infinite loops or duplicate explosions occur when multiple blasts overlap.
